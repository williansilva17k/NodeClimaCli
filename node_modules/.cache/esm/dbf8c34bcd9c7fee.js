let fs,join;_cd9‍.x([["saveApiToken",()=>saveApiToken],["getApiToken",()=>getApiToken]]);_cd9‍.w("fs",[["default",["fs"],function(v){fs=v}]]);_cd9‍.w("path",[["join",["join"],function(v){join=v}]]);


const tokenFilePath = join(__dirname, 'token')

function saveApiToken (apiToken) {

    return new Promise((resolve, reject) => {
        try {
            fs.writeFile(tokenFilePath, apiToken, (error) => {

                if (error) {
                    reject(error)
                }

                resolve()
            })
        } catch (error) {
            reject(error)
        }
    })
}

function getApiToken() {

    return new Promise((resolve, reject) => {
        try {
            fs.readFile(tokenFilePath, 'utf-8', (error, token) => {

                if (error || token === '') {
                    reject('Você precisa fornecer um token. Gere um token aqui: https://advisor.climatempo.com.br')
                }
                
                resolve(token)
            });
        } catch (error) {
            reject(error)
        }
    })
}




